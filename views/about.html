{% extends "page.html" %}

{% block body %}
{% if lang == 'fr' %}
<p>Bienvenue sur <strong>plint</strong>!</p>
<h2 id="info">De quoi s'agit-il au juste&nbsp;?</h2>
<p>C'est une tentative d'<a href="http://a3nm.net">a3nm</a> pour lutter contre la
poésie de mauvaise qualité. Plint vérifie qu'un poème respecte des contraintes
de métrique, de rime et de genre de rime. Il utilise <a
  href="http://gitorious.org/frhyme">frhyme</a> pour les rimes (qui utilise
lui-même la base de données <a href="http://lexique.org">Lexique</a>), <a
  href="http://gitorious.org/haspirater">haspirater</a> pour la détection des
'h' aspirés, et un système écrit à la main avec amour pour la métrique et le
genre. Il est construit avec <a href="http://python.org">Python</a> et <a
  href="http://bottlepy.org">Bottle</a>. Vous pouvez récupérer le code sur le <a
  href="http://cgit.a3nm.net/plint">dépôt plint</a> pour le faire tourner
localement.</p>
<p>Publicité gratuite&nbsp;: si vous aimez plint, peut-être serez-vous
intéressé par le dictionnaire de rimes <a
  href="http://drime.a3nm.net/">drime</a>.</p>

<h2 id="help">Comment s'en servir&nbsp;?</h2>
<p>Entrez votre poème dans la zone de texte et choisissez le modèle de poème. Si
aucun des modèles ne vous convient, vous pouvez <a href="#template">écrire le
  vôtre</a>.</p>

<h2>Qu'est-ce qui est vérifié par plint&nbsp;?</h2>
<p>Ces explications simplifiées ne sont pas exhaustives. Pour une description
exacte, se reporter au code source.</p>
<dl>
  <dt>Nombre de syllabes</dt>
  <dd>Le nombre de syllabes par vers est habituellement fixé (12 pour les
  alexandrins, par exemple). Les syllabes sont comptées en scandant sans
  élision des <em>e</em> muets sauf quand un mot se termine par un <em>e</em>
  muet et le mot suivant commence par une voyelle ou un <em>h</em> non aspiré
  (ou si c'est le dernier mot du vers). Le nombre de syllabes n'est <em>pas</em>
  ce que vous obtenez en lisant le poème comme vous parlez tous les jours.
  Certains groupes de voyelles peuvent prendre deux syllabes soit
  systématiquement (par exemple "Léon") ou par une <em>diérèse</em> facultative
  ou obligatoire ("passion")&nbsp;; plint utilise une approximation des diérèses
  effectivement autorisées déduite à partir d'un corpus de textes classiques.
  Par ailleurs, certains motifs ambigus comme "ies" et "ées" sont
  interdits.</dd>
  <dt>Hémistiche</dt>
  <dd>Les alexandrins classiques sont divisés en deux <em>hémistiches</em> de
  6 syllabes. La césure ne doit pas couper un mot et le premier hémistiche ne
  doit pas se finir par un son faible (ie. une fin féminine non élidée).
  L'hémistiche ne doit pas briser la structure du vers, plint vérifie seulement
  qu'il ne se termine pas par un article défini.</dd>
  <dt>Rime.</dt>
  <dd>La contrainte la plus connue est que les vers doivent rimer. Les phonèmes
  communs dans une rime doivent inclure un son vocalique (par exemple "tâte" et
  "bête" ne riment pas parce que leur suffixe commun est [t] qui ne contient pas
  de son vocalique). Les rimes sont vérifiées par plint avec une approximation
  permissive de la prononciation de la fin des vers. Plint confond [ɛ] et [ɛː]
  ("mettre" et "maître") et [a] et [ɑ] ("patte" et "pâte") mais pas [ɛ̃] et [œ̃]
  ("brin" et "brun") ou [ɔ] et [o] ("cotte" et "côte"). Quand toutes les règles
  classiques sont suivies, certaines rimes comme la rime normande ou la rime
  avec liaison supposée sont acceptées mais un degré minimal de rime "pour
  l'œil" est exigé (ainsi "-é" et "-er" ne riment pas), plint essaie de suivre
  tout cela mais les détails sont complexes. On ne peut pas faire rimer un mot
  avec lui-même (mais on peut faire rimer un mot avec des homographes de nature
  grammaticale différente, ainsi le nombre d'occurrences d'un mot dans un motif
  de rimes est majoré par son nombre de natures grammaticales possibles).</dd>
  <dt>Genre des rimes.</dt>
  <dd>En poésie classique, les rimes doivent être <em>féminines</em> ou
  <em>masculines</em>. Une rime est féminine si elle se termine par un "e", "es"
  ou "ent" silencieux, et est masculine dans le cas contraire. Les rimes doivent
  faire rimer alternativement deux terminaisons féminines et deux terminaisons
  masculines. plint vérifie cela, avec une approximation permissive pour
  déterminer si une terminaison est féminine ou non.</dd>
</dl>

<h2>Qu'est-ce qui n'est pas vérifié par plint&nbsp;?</h2>

<p>Le comptage des syllabes est effectué par une approximation permissive qui
peut autoriser certaines diérèses ou synérèses non autorisées. Presque aucune
vérification n'est faite pour s'assurer que la césure à l'hémistiche se fait à
une position grammaticale raisonnable. Les rimes sont calculées par une
approximation permissive, et il en va de même pour les genres. Plus
important&nbsp;: plint ne vérifie pas si votre poème a un sens, il impose
uniquement des contraintes formelles. Par exemple, <q>Tatata tatati tatati
  tatata</q> est reconnu comme un alexandrin classique parfaitement valide.</p>

<h2 id="template">Comment faire pour définir ses propres modèles&nbsp;?</h2>

<p>
Chaque ligne du format correspond à un vers (ie. une ligne non-vide). Une ligne
peut indiquer trois éléments séparés par une espace : la métrique, l'identifiant
de rime et l'identifiant de genre. Le premier est obligatoire, les deux derniers
sont facultatifs.
</p>
<p>
La métrique indique le nombre de syllabes du vers, et la position des
hémistiches éventuelles. Il s'agit de totaux de syllabes, séparés par '/' pour
indiquer les hémistiches. Par exemple, "6/6" est un alexandrin classique, "12"
est un alexandrin non nécessairement pourvu de césure à l'hémistiche.
</p>
<p>
L'identifiant de rime sert à regrouper les vers qui doivent rimer ensemble. Les
vers ayant le même identifiant doivent rimer. Pour préciser le type de rime
attendue, il est possible de terminer l'identifiant par ':' suivie d'une liste
de valeurs séparées par '|'. La première valeur est soit "no" pour désactiver
les contraintes classiques sur la rime (et n'exiger que la rime phonétique),
soit n'importe quoi d'autre pour activer les règles classiques (ce qui est fait
par défaut). La seconde valeur est un nombre minimal de phonèmes communs
nécessaires pour qu'une rime soit acceptée (1 par défaut).</p>
<p>
L'identifiant de genre de rime sert à regrouper les vers qui doivent avoir une
rime de même genre. Les conventions supplémentaires sont que deux identifiants
de casse inversée (tels que "ex" et "EX") ont des genres opposés
obligatoirement, et que "m" et "f" sont obligatoirement masculin et féminin
respectivement.</p>
</p>
<p>
Si des identifiants ne sont pas spécifiés, alors la contrainte correspondante
n'est pas spécifiée.
</p>
<p>
Une fois le format épuisé, il est lu à nouveau à partir du début, jusqu'à la fin
du poème. Les identifiants de rime et de genre sont réinitialisés (ie. peuvent
prendre n'importe quelle valeur), sauf ceux qui commencent par '!'. Il n'est pas
interdit que le poème et le format ne terminent pas simultanément.
</p>

<p>Des options globales peuvent être définies sur une ligne commençant par
"!&nbsp;", elles doivent être de la forme clé:valeur et séparées par des espaces, les
options suivantes sont reconnues&nbsp;:</p>
<dl>
  <dt>merge</dt>
  <dd>La valeur doit être une liste de phonèmes X-SAMPA (avec la conversion
  maison de plint pour représenter par un caractère les phonèmes de deux
  caractères) à fusionner. Les rimes seront vérifiées à ces fusions près.</dd>
  <dt>normande_ok</dt>
  <dd>La valeur doit être true ou false pour accepter ou refuser les rimes
  normandes. Par défaut, elles sont acceptées.</dd>
  <dt>forbidden_ok</dt>
  <dd>La valeur doit être true ou false pour accepter ou refuser les motifs
  ambigus comme "ées", "ies". Par défaut, ils sont refusés.</dd>
  <dt>diaeresis</dt>
  <dd>La valeur doit être soit "classical" pour imposer les règles de la
  métrique classique (approximées au mieux) ou "permissive" pour des
  approximations plus permissives qui accepteront à peu près n'importe quelle
  diérèse ou synérèse phonétiquement plausible. La valeur par défaut est
  "classical".</dd>
  <dt>repeat_ok</dt>
  <dd>Si cette valeur est false, le modèle ne se répétera pas, un poème plus
  long que le modèle provoquera une erreur. Par défaut, la valeur est true.</dd>
  <dt>incomplete_ok</dt>
  <dd>Si cette valeur est false, le poème devrait avoir exactement la longueur
  du modèle (ou un multiple, si repeat_ok est true), ne pas aller jusqu'à la fin
  du modèle provoquera une erreur. Par défaut, la valeur est true.</dd>
</dl>

<p>Désolé si tout cela semble un peu obscur. Vous pouvez regarder les modèles
prédéfinis pour comprendre comment ils fonctionnent&nbsp;:</p>
<ul>
  <li><span class="template"><a
      href="static/tpl/classical.tpl">classical</a></span></li>
  <li><span class="template"><a
      href="static/tpl/sonnet.tpl">sonnet</a></span></li>
  <li><span class="template"><a
      href="static/tpl/alexandrin.tpl">alexandrin</a></span></li>
</ul>

<h2>Problèmes fréquents</h2>
<ul>
  <li>Les chiffres arabes ne sont pas acceptés. Écrivez toujours les nombres en
  toutes lettres.</li>
  <li>Si le compte de syllabes dans le vers est correct mais qu'une erreur de
  métrique est signalée, vérifiez les hémistiches. Les césures incorrectes (qui
  coupent un mot ou se terminent par un son féminin) sont signalées avec des
  symboles comme '!', '?' ou ':'.</li>
</ul>

<h2 id="pron">Comment la prononciation est-elle indiquée&nbsp;?</h2>
<p>Avec <a href="http://en.wikipedia.org/wiki/X-SAMPA">X-SAMPA</a>. Voyez aussi <a
  href="https://fr.wiktionary.org/wiki/Annexe:Prononciation/fran%C3%A7ais">l'annexe
  de Wiktionnaire sur la prononciation du français</a>. Notez qu'en raison de
limitations diverses, la prononciation indiquée peut être complètement fausse
pour les premiers phonèmes. Les derniers devraient être bons, cependant.</p>

<h2>Est-ce qu'il y a une API&nbsp;?</h2>
<p>Pas encore. Si vous voulez faire quelque chose d'original, <a
  href="http://cgit.a3nm.net/plint">allez récupérer une copie du code</a>.</p>

<h2>Et le nom&nbsp;?</h2>

<p>C'est "plint" comme "poem lint" (comme l'outil "<a
  href="https://en.wikipedia.org/wiki/Lint_(software)">lint</a>" pour les
programmes), mais aussi pour l'homophonie avec "plainte".</p>
{% else %}
<p>Welcome to <strong>plint</strong>!</p>
<h2 id="info">Wait, what is this?</h2>
<p>This is <a href="http://a3nm.net">a3nm</a>'s attempt to make a better world
by eradicating incorrect French poetry. It checks the validity of a poem with
respect to metric, rhyme and rhyme genre constraints. It uses <a
  href="http://gitorious.org/frhyme">frhyme</a> for rhymes (itself built on the
<a href="http://lexique.org">Lexique</a> database), <a
  href="http://gitorious.org/haspirater">haspirater</a> for aspirated 'h'
detection, and a carefully handwritten system for metric and genre. It is
powered by <a href="http://python.org">Python</a> and <a
  href="http://bottlepy.org">Bottle</a>. You can get the code on the <a
  href="http://cgit.a3nm.net/plint">plint repository</a> to run it locally.</p>
<p>Ad: if you like plint, you might enjoy the French rhyme dictionary <a
  href="http://drime.a3nm.net">drime</a>.</p>

<h2 id="help">How do I use it?</h2>
<p>Enter your poem in the text area and select the poem template. If none of the
predefined templates suit you, you can <a href="#template">write your
  own</a>.</p>

<h2>What does plint check?</h2>
<p>Here are some simplified explanations. To know all the details, go read the
source code.</p>
<dl>
  <dt>Syllable count</dt>
  <dd>The number of syllables in each verse is usually fixed (12 in
  alexandrines, for instance). Syllables are counted in a reading with no
  elision of mute <em>e</em>'s except at the end of a word <em>and</em> when
  the following word starts with a vowel or non-aspirated <em>h</em> (or if it
  is the last word). The syllable count is <em>not</em> what you get with a
  colloquial everyday reading. Some vowels clusters can count for two
  syllables either naturally ("Léon") or through <em>diérèse</em> ("passion");
  plint uses an approximation of allowed <em>diérèses</em> trained on a corpus
  of classical texts. Some patterns such as "ées" or "ies" are forbidden
  altogether.</dd>
  <dt>Hemistiche</dt>
  <dd>For classical alexandrines, the 12 syllables are separated in two groups
  of 6 with an intermediate cesura (the <em>hémistiche</em>). The cesura must
  not split a word and must not end in a weak sound (essentially, a non-elided
  feminine ending). The hemistiche should occur at a pleasant point of the
  sentence, plint only checks that it does not end in a definite article.</dd>
  <dt>Rhyme.</dt>
  <dd>The most well-known constraint is that verses must rhyme. The rhyming
  phonemes must include a vowel (eg. "tâte" and "bête" do not rhyme because
  their common phoneme suffix is [t] which does not include a vowel sound).
  plint enforces rhymes trough a liberal approximation of the pronunciation of
  verse endings. Plint merges [ɛ] et [ɛː] ("mettre" and "maître") and [a] and
  [ɑ] ("patte" and "pâte") but distinguishes [ɛ̃] and [œ̃] ("brin" and "brun") and
  [ɔ] and [o] ("cotte" and "côte"). When all classical rules are enforced, some
  rhymes such as <em>rime normande</em> and rhymes for a <em>liaison
    supposée</em> are accepted though they do not rhyme phonetically, and rhymes
  that do not match visually (such as "-é" and "-er") are refused, the details
  are complex. A word cannot rhyme with itself, but rhymes between homographs of
  a different grammatical nature are allowed (the number of occurrences of a
  word in a rhyme is bounded by the number of possible grammatical natures for
  this word).</dd>
  <dt>Rhyme genre.</dt>
  <dd>In classical verse, rhymes must be made between feminine verse endings, or
  masculine verse endings. A verse ending is feminine if it ends with a silent
  "e", "es" or "ent", and masculine otherwise. plint enforces this, with a
  liberal approximation to try to guess if an ending is indeed silent. Besides,
  feminine and masculine rhymes must alternate.</dd>
</dl>

<h2>What isn't checked by plint?</h2>

<p>Syllable count is performed by a liberal estimate which may allow some
invalid <em>diérèses</em> and <em>synérèses</em> to make the count match. It is
(almost) not checked if <em>hémistiches</em> occur at a sensible grammatical
position. Rhyme is computed by a liberal heuristic, as well as rhyme genre. More
importantly, plint will not check if your poem makes any sense, does not contain
spelling mistakes or has any poetic value; it only enforces formal constraints.
For instance, <q>Tatata tatati tatati tatata</q> is recognized as a perfectly
correct classical alexandrine.</p>

<h2 id="template">How can I define my own templates?</h2>

<p>Each template line will be checked against a non-blank poem line. When the
template is finished, it starts over from the beginning, and the rhyme and rhyme
genre identifiers (see below) are reinitialized unless they start with a '!'.
Each line contains one to three space-separated fields. The fields will be
interpreted in the following order:</p>
<ol>
<li>The first field is the <strong>metric indication</strong>. It is a list of
syllable counts separated by '/'s to indicate <em>hémistiches</em>. For
instance, "6/6" is a classical alexandrine, "12" is an alexandrine without
<em>hémistiche</em>. For technical reasons, the total number of syllables in a
verse is limited to 16.</li>
<li>The second field is the <strong>rhyme identifier</strong>. Verses with the
same rhyme identifier must rhyme. You can suffix the pattern with ":" followed
by a rhyme constraint. The rhyme constraint is up to two '|'-separated
values. The first value is either "no" to disable classical constraints and only
enforce phonetic rhyming, or anything else (default) to enable classical
constrains. The second value is a number of required common phonemes (default
1).</li>
<li>The third field is the <strong>rhyme genre</strong>. Verses with the same
rhyme genre identifier must have the same rhyme genre. Identifiers with opposite
case (like "ex" and "EX") must represent opposite genres, "m" must represent
masculine, "f" must represent feminine.</li>
</ol>
<p>Global options can be stated in lines starting with "! ", they are of the
form option:value and separated by spaces, with the following possibilities:</p>
<dl>
  <dt>merge</dt>
  <dd>The value should be a list of X-SAMPA phonemes (with plint's custom
  mapping of multi-character to single-character phonemes) to merge (for
  instance "oO"). Rhymes will be computed up to these merges.</dd>
  <dt>normande_ok</dt>
  <dd>The value should be true or false to allow or refuse rimes normandes.
  Default is true.</dd>
  <dt>forbidden_ok</dt>
  <dd>The value should be true or false to allow or refuse patterns such as
  "ées", "ies". Default is false.</dd>
  <dt>diaeresis</dt>
  <dd>The value should be either "classical" to enforce an approximation of the
  rules of classical verse or "permissive" to enforce a more permissive
  approximations which will allow mostly all phonetically reasonable diérèses
  and synérèses. Default is "classical".</dd>
  <dt>repeat_ok</dt>
  <dd>If the value is false, the template will not repeat, and going beyond its
  end will be an error. Default is true.</dd>
  <dt>incomplete_ok</dt>
  <dd>If the value is false, the poem should match the length of the template
  (or a multiple thereof is repeat_ok was set), and not completing a template
  run will be an error. Default is true.</dd>
</dl>

<p>Sorry if all of this is a bit obscure. You can have a look to the predefined
templates to understand how this works:</p>
<ul>
  <li><span class="template"><a
      href="static/tpl/classical.tpl">classical</a></span></li>
  <li><span class="template"><a
      href="static/tpl/sonnet.tpl">sonnet</a></span></li>
  <li><span class="template"><a
      href="static/tpl/alexandrin.tpl">alexandrin</a></span></li>
</ul>

<h2>Common issues</h2>
<ul>
  <li>There is no support for arabic numerals. Always spell out numbers in
  full.</li>
  <li>If the verse total is correct but a metric error is reported, check the
  <em>hémistiche</em>. Wrong <em>hémistiches</em> (which cut a word or end in a
  feminine sound) are reported with symbols such as '!', '?' or ':'.</li>
</ul>

<h2 id="pron">How is pronunciation written?</h2>
<p>It is <a href="http://en.wikipedia.org/wiki/X-SAMPA">X-SAMPA</a>. Information
about French pronunciation can be found on the <a
  href="https://fr.wiktionary.org/wiki/Annexe:Prononciation/fran%C3%A7ais">French
  Wiktionary</a>. Be aware that because of various limitations, the leading
phonemes might be completely wrong. The last few ones should match, however.</p>

<h2>Is there an API?</h2>
<p>Not yet. If you want to do something creative, <a
  href="http://cgit.a3nm.net/plint">grab a copy of the code</a>.</p>

<h2>What about the name?</h2>

<p>It's "plint" for "poem lint" (like the "<a
  href="https://en.wikipedia.org/wiki/Lint_(software)">lint</a>" tool for
programs), but also because "plint" in French would be read like "plainte",
meaning "complaint".</p>
{% endif %}
{% endblock %}

