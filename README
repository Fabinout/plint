plint -- a French poetry validator
Copyright (C) 2011-2012 by Antoine Amarilli

== 0. Licence ==

This program is free software: you can redistribute it and/or modify it under
the terms of the GNU General Public License as published by the Free Software
Foundation, version 3.

This program is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE.  See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with
this program (see file "COPYING").  If not, see <http://www.gnu.org/licenses/>.

bottle.py is a third-party file, its license is in file LICENSE_bottle.

test/boileau and test/andromaque are from Wikisource and test/baudelaire and
test/mithridate are from Project Gutenberg. Both of them are in the public
domain.

== 1. Features ==

plint is a tool to check French poetry. Specifically, it validates metric,
rhymes and rhyme genres against an unexpressive template language. It features a
command-line interface, an IRC wrapper (for use with irctk) and a web interface.
It depends on haspirater <https://gitorious.org/haspirater> and frhyme
<https://gitorious.org/frhyme>, and the web interface requires CherryPy.

The full documentation of plint's features is available in views/about.html.

== 2. Setup ==

First, make sure that you have a working python3 installation and that you have
unzip (Debian packages: python3, unzip).

Place haspirater.py and haspirater.json from haspirater in the main directory.
Place frhyme.py and frhyme.json from frhyme in the main directory (see frhyme's
README for instructions on how to generate frhyme.json). Generate the
occurrences file as follows:

  ./lexique_occurrences_retrieve.sh > occurrences

For locale support, install gettext (Debian package: gettext) and run:

  make

== 3. Usage ==

To use the program's command-line interface, run:

  ./plint.py TEMPLATE

where TEMPLATE is the template file, and provide the poem on stdin. Errors are
reported on stderr.

To run the web interface on port 5000, run plint_web.py. CherryPy is required
(but the code is easy to adapt), see
http://bottlepy.org/docs/dev/tutorial.html#deployment
Beware, if you use CherryPy under Debian, simply installing python-cherrypy3
might not work ("no module named cherrypy"). In this case, you need to install
CherryPy by hand from source (sudo python3 setup.py install).

An undocumented IRC interface for use with irctk is available (plint_irc.py).
The poem that it produces can be compiled to HTML automatically using something
along the lines of:

  while true
  do
    inotifywait poem_file
    # www/ should contain style.css
    poem2html/make_poem.sh poem_file > www/poem.html
  done

To run plint on some provided test files, you can use test.sh. However, because
of known bugs, some errors will be reported on the test files. To run a very
simple test suite, run python3 versetest.py; they should all pass.

== 4. Training ==

The diaeresis pattern "diaeresis.json" is trained by calling

  ./train_diaeresis.sh > diaeresis.json

You can also train a specific pattern for _Cyrano de Bergerac_ with:

  ./train_diaeresis.sh _full ../additions_cyrano > diaeresis_cyrano.json

This is currently undocumented. The plint folder should contain a copy of the
haspirater code (possibly as a symlink) in "haspirater/".

== 5. Related work ==

* http://pentametron.com/
* http://virga.org/cvf/alexanql.php
* http://hal.archives-ouvertes.fr/docs/00/37/73/48/PDF/1.Rythme_et_rime_de_l_alexandrin_classique_-_V_Beaudouin_2000.pdf
* http://www.oulipo.net/docannexe/file/16251/MetreenregleRFLA-Beaudouin200405.pdf
* http://images.math.cnrs.fr/Je-demeurai-longtemps-errant-dans.html
* Beaudouin V. & Yvon F. (1996). "The Metrometer : a Tool for Analysing French Verse", Literary & Linguistic Computing, vol. 11, nÂ°1, p. 23-32.
